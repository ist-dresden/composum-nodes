<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>LazyCreationService (Composum Nodes Package 4.3.5 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LazyCreationService (Composum Nodes Package 4.3.5 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LazyCreationService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.composum.sling.core.concurrent</a></div>
<h2 title="Interface LazyCreationService" class="title">Interface LazyCreationService</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="LazyCreationServiceImpl.html" title="class in com.composum.sling.core.concurrent">LazyCreationServiceImpl</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">LazyCreationService</span></pre>
<div class="block">Service that encapsulates a 'get or create' pattern for resources (incl. possibly a path several parent
 directories), that adresses the following problems:
 <ul>
 <li>The creation is cluster-safe. If requests in several cluster nodes need the same resource and try to
 create it at the same time, only one of them will succeed. This should, however, not cause the other
 requests to fail.</li>
 <li>The user needs the right to read the resource, but shouldn't neccesarily have the right to create or modify
 the resource. Thus, the creation is done with an admin resolver, but the result is returned with the user's
 resolver.</li>
 </ul>
 An admin resolver is only created when needed.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="LazyCreationService.CreationStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.CreationStrategy</a></span></code></th>
<td class="colLast">
<div class="block">Strategy to create the resource itself.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="LazyCreationService.InitializationStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.InitializationStrategy</a></span></code></th>
<td class="colLast">
<div class="block">Strategy to initialize the resource, if that's a resource intensive task that should be separated from
 <a href="LazyCreationService.CreationStrategy.html" title="interface in com.composum.sling.core.concurrent"><code>LazyCreationService.CreationStrategy</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="LazyCreationService.ParentCreationStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.ParentCreationStrategy</a></span></code></th>
<td class="colLast">
<div class="block">Strategy to create the parents of the retrieved resource.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="LazyCreationService.RetrievalStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.RetrievalStrategy</a>&lt;<a href="LazyCreationService.RetrievalStrategy.html" title="type parameter in LazyCreationService.RetrievalStrategy">T</a>&gt;</span></code></th>
<td class="colLast">
<div class="block">Strategy to retrieve the resources content.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="LazyCreationService.RetrievalStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.RetrievalStrategy</a>&lt;org.apache.sling.api.resource.Resource&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#IDENTITY_RETRIEVER">IDENTITY_RETRIEVER</a></span></code></th>
<td class="colLast">
<div class="block">Simplest <a href="LazyCreationService.RetrievalStrategy.html" title="interface in com.composum.sling.core.concurrent"><code>LazyCreationService.RetrievalStrategy</code></a>: just returns the
 resource.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOrCreate(org.apache.sling.api.resource.ResourceResolver,java.lang.String,com.composum.sling.core.concurrent.LazyCreationService.RetrievalStrategy,com.composum.sling.core.concurrent.LazyCreationService.CreationStrategy,com.composum.sling.core.concurrent.LazyCreationService.InitializationStrategy,com.composum.sling.core.concurrent.LazyCreationService.ParentCreationStrategy)">getOrCreate</a></span>&#8203;(org.apache.sling.api.resource.ResourceResolver&nbsp;resolver,
           <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;path,
           <a href="LazyCreationService.RetrievalStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.RetrievalStrategy</a>&lt;T&gt;&nbsp;getter,
           <a href="LazyCreationService.CreationStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.CreationStrategy</a>&nbsp;creator,
           <a href="LazyCreationService.InitializationStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.InitializationStrategy</a>&nbsp;initializer,
           <a href="LazyCreationService.ParentCreationStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.ParentCreationStrategy</a>&nbsp;parentCreationStrategy)</code></th>
<td class="colLast">
<div class="block">Retrieves a resource or applies a creation and initialization strategy to be carried out with an admin resolver
 to create it, for resource intensive initialization processes that should not performed twice in the cluster.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOrCreate(org.apache.sling.api.resource.ResourceResolver,java.lang.String,com.composum.sling.core.concurrent.LazyCreationService.RetrievalStrategy,com.composum.sling.core.concurrent.LazyCreationService.CreationStrategy,com.composum.sling.core.concurrent.LazyCreationService.InitializationStrategy,java.util.Map)">getOrCreate</a></span>&#8203;(org.apache.sling.api.resource.ResourceResolver&nbsp;resolver,
           <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;path,
           <a href="LazyCreationService.RetrievalStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.RetrievalStrategy</a>&lt;T&gt;&nbsp;getter,
           <a href="LazyCreationService.CreationStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.CreationStrategy</a>&nbsp;creator,
           <a href="LazyCreationService.InitializationStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.InitializationStrategy</a>&nbsp;initializer,
           <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>,&#8203;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&gt;&nbsp;parentProperties)</code></th>
<td class="colLast">
<div class="block">Retrieves a resource or applies a creation and initialization strategy to be carried out with an admin resolver
 to create it, for resource intensive initialization processes that should not performed twice in the cluster.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOrCreate(org.apache.sling.api.resource.ResourceResolver,java.lang.String,com.composum.sling.core.concurrent.LazyCreationService.RetrievalStrategy,com.composum.sling.core.concurrent.LazyCreationService.CreationStrategy,com.composum.sling.core.concurrent.LazyCreationService.ParentCreationStrategy)">getOrCreate</a></span>&#8203;(org.apache.sling.api.resource.ResourceResolver&nbsp;resolver,
           <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;path,
           <a href="LazyCreationService.RetrievalStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.RetrievalStrategy</a>&lt;T&gt;&nbsp;getter,
           <a href="LazyCreationService.CreationStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.CreationStrategy</a>&nbsp;creator,
           <a href="LazyCreationService.ParentCreationStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.ParentCreationStrategy</a>&nbsp;parentCreationStrategy)</code></th>
<td class="colLast">
<div class="block">Retrieves a resource or applies a creation strategy to be carried out with an admin resolver to create it.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;T</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOrCreate(org.apache.sling.api.resource.ResourceResolver,java.lang.String,com.composum.sling.core.concurrent.LazyCreationService.RetrievalStrategy,com.composum.sling.core.concurrent.LazyCreationService.CreationStrategy,java.util.Map)">getOrCreate</a></span>&#8203;(org.apache.sling.api.resource.ResourceResolver&nbsp;resolver,
           <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;path,
           <a href="LazyCreationService.RetrievalStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.RetrievalStrategy</a>&lt;T&gt;&nbsp;getter,
           <a href="LazyCreationService.CreationStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.CreationStrategy</a>&nbsp;creator,
           <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>,&#8203;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&gt;&nbsp;parentProperties)</code></th>
<td class="colLast">
<div class="block">Retrieves a resource or applies a creation strategy to be carried out with an admin resolver to create it.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isInitialized(org.apache.sling.api.resource.Resource)">isInitialized</a></span>&#8203;(org.apache.sling.api.resource.Resource&nbsp;resource)</code></th>
<td class="colLast">
<div class="block">For resources created by <a href="#getOrCreate(org.apache.sling.api.resource.ResourceResolver,java.lang.String,com.composum.sling.core.concurrent.LazyCreationService.RetrievalStrategy,com.composum.sling.core.concurrent.LazyCreationService.CreationStrategy,com.composum.sling.core.concurrent.LazyCreationService.InitializationStrategy,com.composum.sling.core.concurrent.LazyCreationService.ParentCreationStrategy)"><code>getOrCreate(ResourceResolver, String, RetrievalStrategy, CreationStrategy,
 InitializationStrategy, ParentCreationStrategy)</code></a> or <a href="#getOrCreate(org.apache.sling.api.resource.ResourceResolver,java.lang.String,com.composum.sling.core.concurrent.LazyCreationService.RetrievalStrategy,com.composum.sling.core.concurrent.LazyCreationService.CreationStrategy,com.composum.sling.core.concurrent.LazyCreationService.InitializationStrategy,java.util.Map)"><code>getOrCreate(ResourceResolver, String,
 RetrievalStrategy, CreationStrategy, InitializationStrategy, Map)</code></a>, this returns true when the initialization
 process is finished.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>org.apache.sling.api.resource.Resource</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#waitForInitialization(org.apache.sling.api.resource.ResourceResolver,java.lang.String)">waitForInitialization</a></span>&#8203;(org.apache.sling.api.resource.ResourceResolver&nbsp;resolver,
                     <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;path)</code></th>
<td class="colLast">
<div class="block">For resources created by <a href="#getOrCreate(org.apache.sling.api.resource.ResourceResolver,java.lang.String,com.composum.sling.core.concurrent.LazyCreationService.RetrievalStrategy,com.composum.sling.core.concurrent.LazyCreationService.CreationStrategy,com.composum.sling.core.concurrent.LazyCreationService.InitializationStrategy,com.composum.sling.core.concurrent.LazyCreationService.ParentCreationStrategy)"><code>getOrCreate(ResourceResolver, String, RetrievalStrategy, CreationStrategy,
 InitializationStrategy, ParentCreationStrategy)</code></a> or <a href="#getOrCreate(org.apache.sling.api.resource.ResourceResolver,java.lang.String,com.composum.sling.core.concurrent.LazyCreationService.RetrievalStrategy,com.composum.sling.core.concurrent.LazyCreationService.CreationStrategy,com.composum.sling.core.concurrent.LazyCreationService.InitializationStrategy,java.util.Map)"><code>getOrCreate(ResourceResolver, String,
 RetrievalStrategy, CreationStrategy, InitializationStrategy, Map)</code></a>, this returns the resource when the
 initialization process is finished.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="IDENTITY_RETRIEVER">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>IDENTITY_RETRIEVER</h4>
<pre>static final&nbsp;<a href="LazyCreationService.RetrievalStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.RetrievalStrategy</a>&lt;org.apache.sling.api.resource.Resource&gt; IDENTITY_RETRIEVER</pre>
<div class="block">Simplest <a href="LazyCreationService.RetrievalStrategy.html" title="interface in com.composum.sling.core.concurrent"><code>LazyCreationService.RetrievalStrategy</code></a>: just returns the
 resource.</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getOrCreate(org.apache.sling.api.resource.ResourceResolver,java.lang.String,com.composum.sling.core.concurrent.LazyCreationService.RetrievalStrategy,com.composum.sling.core.concurrent.LazyCreationService.CreationStrategy,java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrCreate</h4>
<pre class="methodSignature">&lt;T&gt;&nbsp;T&nbsp;getOrCreate&#8203;(org.apache.sling.api.resource.ResourceResolver&nbsp;resolver,
                  <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;path,
                  <a href="LazyCreationService.RetrievalStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.RetrievalStrategy</a>&lt;T&gt;&nbsp;getter,
                  <a href="LazyCreationService.CreationStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.CreationStrategy</a>&nbsp;creator,
                  <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>,&#8203;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&gt;&nbsp;parentProperties)
           throws javax.jcr.RepositoryException</pre>
<div class="block">Retrieves a resource or applies a creation strategy to be carried out with an admin resolver to create it.
 <p>
 It is an error if getter still returns null after creator is executed.
 </p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type the <a href="LazyCreationService.RetrievalStrategy.html" title="interface in com.composum.sling.core.concurrent"><code>LazyCreationService.RetrievalStrategy</code></a> returns.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resolver</code> - the users resolver. If the resource needed to be created, that is getter returns null, we
                         create it and call a <code>Session.refresh(boolean)</code>(true) on this session
                         before we call getter again. Passed as a parameter to getter.</dd>
<dd><code>path</code> - the absolute path at which the creator creates the resource. Passed as a parameter to
                         getter and creator.</dd>
<dd><code>getter</code> - side effect free function to retrieve the resource. This can be executed several times in
                         this process.</dd>
<dd><code>creator</code> - a strategy to create the resource. Only called when the resource doesn't exist. Is only
                         called after the parent of path is created.</dd>
<dd><code>parentProperties</code> - properties with which non-existing parents of path are created (<code>ResourceResolver.create(Resource, String, Map)</code>).</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the object.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.RepositoryException</code></dd>
</dl>
</li>
</ul>
<a id="getOrCreate(org.apache.sling.api.resource.ResourceResolver,java.lang.String,com.composum.sling.core.concurrent.LazyCreationService.RetrievalStrategy,com.composum.sling.core.concurrent.LazyCreationService.CreationStrategy,com.composum.sling.core.concurrent.LazyCreationService.ParentCreationStrategy)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrCreate</h4>
<pre class="methodSignature">&lt;T&gt;&nbsp;T&nbsp;getOrCreate&#8203;(org.apache.sling.api.resource.ResourceResolver&nbsp;resolver,
                  <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;path,
                  <a href="LazyCreationService.RetrievalStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.RetrievalStrategy</a>&lt;T&gt;&nbsp;getter,
                  <a href="LazyCreationService.CreationStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.CreationStrategy</a>&nbsp;creator,
                  <a href="LazyCreationService.ParentCreationStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.ParentCreationStrategy</a>&nbsp;parentCreationStrategy)
           throws javax.jcr.RepositoryException</pre>
<div class="block">Retrieves a resource or applies a creation strategy to be carried out with an admin resolver to create it.
 <p>
 It is an error if getter still returns null after creator is executed.
 </p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type the <a href="LazyCreationService.RetrievalStrategy.html" title="interface in com.composum.sling.core.concurrent"><code>LazyCreationService.RetrievalStrategy</code></a> returns.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resolver</code> - the users resolver. If the resource needed to be created, that is getter returns
                               null, we create it and call a <code>Session.refresh(boolean)</code>(true) on
                               this session before we call getter again. Passed as a parameter to getter.</dd>
<dd><code>path</code> - the absolute path at which the creator creates the resource. Passed as a parameter
                               to getter and creator.</dd>
<dd><code>getter</code> - side effect free function to retrieve the resource. This can be executed several
                               times in this process.</dd>
<dd><code>creator</code> - a strategy to create the resource. Only called when the resource doesn't exist. Is
                               only called after the parent of path is created.</dd>
<dd><code>parentCreationStrategy</code> - strategy with which non-existing parents of path are created.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the object.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.RepositoryException</code></dd>
</dl>
</li>
</ul>
<a id="getOrCreate(org.apache.sling.api.resource.ResourceResolver,java.lang.String,com.composum.sling.core.concurrent.LazyCreationService.RetrievalStrategy,com.composum.sling.core.concurrent.LazyCreationService.CreationStrategy,com.composum.sling.core.concurrent.LazyCreationService.InitializationStrategy,java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrCreate</h4>
<pre class="methodSignature">&lt;T&gt;&nbsp;T&nbsp;getOrCreate&#8203;(org.apache.sling.api.resource.ResourceResolver&nbsp;resolver,
                  <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;path,
                  <a href="LazyCreationService.RetrievalStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.RetrievalStrategy</a>&lt;T&gt;&nbsp;getter,
                  <a href="LazyCreationService.CreationStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.CreationStrategy</a>&nbsp;creator,
                  <a href="LazyCreationService.InitializationStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.InitializationStrategy</a>&nbsp;initializer,
                  <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util" class="externalLink">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>,&#8203;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&gt;&nbsp;parentProperties)
           throws javax.jcr.RepositoryException,
                  org.apache.sling.api.resource.PersistenceException</pre>
<div class="block">Retrieves a resource or applies a creation and initialization strategy to be carried out with an admin resolver
 to create it, for resource intensive initialization processes that should not performed twice in the cluster. The
 resource is locked for the cluster with <code>LockManager</code> during that time. <p> It is an error
 if getter still returns null after creator is executed. </p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type the <a href="LazyCreationService.RetrievalStrategy.html" title="interface in com.composum.sling.core.concurrent"><code>LazyCreationService.RetrievalStrategy</code></a> returns.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resolver</code> - the users resolver. If the resource needed to be created, that is getter returns null, we
                         create it and call a <code>Session.refresh(boolean)</code>(true) on this session
                         before we call getter again. Passed as a parameter to getter.</dd>
<dd><code>path</code> - the absolute path at which the creator creates the resource. Passed as a parameter to
                         getter and creator.</dd>
<dd><code>getter</code> - side effect free function to retrieve the resource. This can be executed several times in
                         this process.</dd>
<dd><code>creator</code> - a strategy to create the resource. Only called when the resource doesn't exist. Is only
                         called after the parent of path is created. This should not perform any resource
                         intensive actions - these should be done in initializer.</dd>
<dd><code>initializer</code> - the resource intensive part of the resource creation</dd>
<dd><code>parentProperties</code> - properties with which non-existing parents of path are created (<code>ResourceResolver.create(Resource, String, Map)</code>).</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the object.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.RepositoryException</code></dd>
<dd><code>org.apache.sling.api.resource.PersistenceException</code></dd>
</dl>
</li>
</ul>
<a id="getOrCreate(org.apache.sling.api.resource.ResourceResolver,java.lang.String,com.composum.sling.core.concurrent.LazyCreationService.RetrievalStrategy,com.composum.sling.core.concurrent.LazyCreationService.CreationStrategy,com.composum.sling.core.concurrent.LazyCreationService.InitializationStrategy,com.composum.sling.core.concurrent.LazyCreationService.ParentCreationStrategy)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrCreate</h4>
<pre class="methodSignature">&lt;T&gt;&nbsp;T&nbsp;getOrCreate&#8203;(org.apache.sling.api.resource.ResourceResolver&nbsp;resolver,
                  <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;path,
                  <a href="LazyCreationService.RetrievalStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.RetrievalStrategy</a>&lt;T&gt;&nbsp;getter,
                  <a href="LazyCreationService.CreationStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.CreationStrategy</a>&nbsp;creator,
                  <a href="LazyCreationService.InitializationStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.InitializationStrategy</a>&nbsp;initializer,
                  <a href="LazyCreationService.ParentCreationStrategy.html" title="interface in com.composum.sling.core.concurrent">LazyCreationService.ParentCreationStrategy</a>&nbsp;parentCreationStrategy)
           throws javax.jcr.RepositoryException,
                  org.apache.sling.api.resource.PersistenceException</pre>
<div class="block">Retrieves a resource or applies a creation and initialization strategy to be carried out with an admin resolver
 to create it, for resource intensive initialization processes that should not performed twice in the cluster. The
 resource is locked for the cluster with <code>LockManager</code> during that time.
 <p>
 <p>
 It is an error if getter still returns null after creator is executed.
 </p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type the <a href="LazyCreationService.RetrievalStrategy.html" title="interface in com.composum.sling.core.concurrent"><code>LazyCreationService.RetrievalStrategy</code></a> returns.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resolver</code> - the users resolver. If the resource needed to be created, that is getter returns
                               null, we create it and call a <code>Session.refresh(boolean)</code>(true) on
                               this session before we call getter again. Passed as a parameter to getter.</dd>
<dd><code>path</code> - the absolute path at which the creator creates the resource. Passed as a parameter
                               to getter and creator.</dd>
<dd><code>getter</code> - side effect free function to retrieve the resource. This can be executed several
                               times in this process.</dd>
<dd><code>creator</code> - a strategy to create the resource. Only called when the resource doesn't exist. Is
                               only called after the parent of path is created.</dd>
<dd><code>initializer</code> - the resource intensive part of the resource creation</dd>
<dd><code>parentCreationStrategy</code> - strategy with which non-existing parents of path are created.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the object.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.RepositoryException</code></dd>
<dd><code>org.apache.sling.api.resource.PersistenceException</code></dd>
</dl>
</li>
</ul>
<a id="isInitialized(org.apache.sling.api.resource.Resource)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isInitialized</h4>
<pre class="methodSignature">boolean&nbsp;isInitialized&#8203;(org.apache.sling.api.resource.Resource&nbsp;resource)
               throws javax.jcr.RepositoryException</pre>
<div class="block">For resources created by <a href="#getOrCreate(org.apache.sling.api.resource.ResourceResolver,java.lang.String,com.composum.sling.core.concurrent.LazyCreationService.RetrievalStrategy,com.composum.sling.core.concurrent.LazyCreationService.CreationStrategy,com.composum.sling.core.concurrent.LazyCreationService.InitializationStrategy,com.composum.sling.core.concurrent.LazyCreationService.ParentCreationStrategy)"><code>getOrCreate(ResourceResolver, String, RetrievalStrategy, CreationStrategy,
 InitializationStrategy, ParentCreationStrategy)</code></a> or <a href="#getOrCreate(org.apache.sling.api.resource.ResourceResolver,java.lang.String,com.composum.sling.core.concurrent.LazyCreationService.RetrievalStrategy,com.composum.sling.core.concurrent.LazyCreationService.CreationStrategy,com.composum.sling.core.concurrent.LazyCreationService.InitializationStrategy,java.util.Map)"><code>getOrCreate(ResourceResolver, String,
 RetrievalStrategy, CreationStrategy, InitializationStrategy, Map)</code></a>, this returns true when the initialization
 process is finished.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.RepositoryException</code></dd>
</dl>
</li>
</ul>
<a id="waitForInitialization(org.apache.sling.api.resource.ResourceResolver,java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>waitForInitialization</h4>
<pre class="methodSignature">org.apache.sling.api.resource.Resource&nbsp;waitForInitialization&#8203;(org.apache.sling.api.resource.ResourceResolver&nbsp;resolver,
                                                             <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;path)
                                                      throws javax.jcr.RepositoryException</pre>
<div class="block">For resources created by <a href="#getOrCreate(org.apache.sling.api.resource.ResourceResolver,java.lang.String,com.composum.sling.core.concurrent.LazyCreationService.RetrievalStrategy,com.composum.sling.core.concurrent.LazyCreationService.CreationStrategy,com.composum.sling.core.concurrent.LazyCreationService.InitializationStrategy,com.composum.sling.core.concurrent.LazyCreationService.ParentCreationStrategy)"><code>getOrCreate(ResourceResolver, String, RetrievalStrategy, CreationStrategy,
 InitializationStrategy, ParentCreationStrategy)</code></a> or <a href="#getOrCreate(org.apache.sling.api.resource.ResourceResolver,java.lang.String,com.composum.sling.core.concurrent.LazyCreationService.RetrievalStrategy,com.composum.sling.core.concurrent.LazyCreationService.CreationStrategy,com.composum.sling.core.concurrent.LazyCreationService.InitializationStrategy,java.util.Map)"><code>getOrCreate(ResourceResolver, String,
 RetrievalStrategy, CreationStrategy, InitializationStrategy, Map)</code></a>, this returns the resource when the
 initialization process is finished. If the resource is in creation, this waits a while.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the initialized resource, or null if we couldn't find it or it took too long.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jcr.RepositoryException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LazyCreationService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2025. All rights reserved.</small></p>
</footer>
</body>
</html>
